для того чтобы наша мейн начала работать
нам нужно модифицировать точку входа
в программу. Таковой в ассемблерном смысле
является подпрограмма _start

Операционная система вызывает именно 
подпрограмму _start а не функцию мейн
при запуске программы

Саму функцию main вызывает именно подпрограммка
_start. На нее возлагаются обязанности
по подготовке аргументов main, а ровно и
вызов _exit

Итак, подготовим стек для работы.
Поначалу, по адресу [ESP] лежит
колво параметров командной строки (argc кароче)
(esp -  регистр который хранит в себе адрес на argc, операцией [] мы достаем argc по адресу который
лежит в esp)

но вот дальше лежат указатели на сами параметры,
то есть фактически в стеке лежит массив argv,
но нам нужно чтобы в стеке лежал адрес этого массива

Поступим так:
 - загрузим из стека в регистр ECX значение argc
 - сформируем в регистре EAX значение argv
 - занесем в стек сначала argv, потом argc (чтоб argc свверху был)
 - вызовем main
 - извлечем из EAX значение возвращаемое значение main и сделаем _exit 

